{"version":3,"sources":["app/vettura/vettura.component.ts"],"names":[],"mappings":"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","file":"vettura.component.js","sourcesContent":["import { MetadataOverride } from '@angular/core/testing';\nimport { Observer } from './../../../../public/libs/rxjs/Observer.d';\nimport { VetturaApi, Vettura } from './vettura.api';\nimport { HomeEventosService } from './../home/home.event.services';\n\nimport { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\n//import { RowTemplate, HeaderTemplate, DetailsTemplate} from 'angular2-iron-data-table';\nimport { ControlMenu } from '../home/home.event.services';\n\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'vettura',\n  templateUrl: 'vettura.component.html',\n  providers: [VetturaApi]\n  //viewProviders: [RowTemplate, HeaderTemplate, DetailsTemplate]\n})\n\nexport class VetturaComponent implements OnInit {\n  model = new Vettura();\n\n  value = 'C';\n  selectedItem: Object = {};\n  tipologiaJson = [\n    { tipologia: 'AUTOCARRO', abbr: 'AUTCAR' },\n    { tipologia: 'FURGONE', abbr: 'FUR' },\n    { tipologia: 'CASSONETO', abbr: 'CASS' },\n    { tipologia: 'CAMION', abbr: 'CAM' }\n  ];\n\n\n  constructor(private api: VetturaApi, private eventHomeService: HomeEventosService) { }\n\n  subscriptionNuovo: any;\n  title: string = \"Elenco Vetture\";\n\n  ngOnInit() {\n    this.subscriptionNuovo = this.eventHomeService.getNewChangeEmitter()\n      .subscribe(item => this.nuovaVettura(item));\n    //enviar titulo\n    this.eventHomeService.emitTitleChangeEvent(this.title);\n    //activar controlles\n    let controlMenu: ControlMenu = new ControlMenu();\n    controlMenu.add=true;\n    controlMenu.edit=true;\n    this.eventHomeService.emitControlMenuChangeEvent(controlMenu);\n\n    //traer datos dal Observer\n    this.getData();\n  }\n\n  /**\n   * obtenemos la informazione della web services\n   */\n\n  data: Vettura[];\n\n  getData() {\n\n    this.api.setUrl('api/vetture');\n    this.api.getData()\n      .subscribe(res => {\n        // durante la suscripciÃ³n se obtienen y transforman los datos\n        this.data = res.json()['data'];\n        console.log(this.data);\n      }\n\n      );\n\n  }\n\n\n  /**\n   * funcion  dove si inviano le  informazione introdotte\n   */\n\n  salvare() {\n    console.log(JSON.stringify(this.model));\n    /*if(this.model.id==0)\n        this.api.setUrl(\"/api/vettura\");\n    else\n        this.api.setUrl(\"/api/documento/update\");\n        */\n\n    this.api.setUrl(\"/api/vetture\");\n    this.api.register(this.model)\n      .subscribe(\n      res => {\n        //codigo 202 es de registro\n        if (res.status == 200) {\n          //console.log(res.json()['data']);\n\n          this.model = res.json()['data'];\n\n\n          let da = this.data.find(item => item.id === this.model.id);\n          if (da == undefined)\n            this.data.push(this.model);\n          //console.log(da);\n          this.dialogEditVettura.nativeElement.close(event);\n\n        }\n\n        else\n          console.log(JSON.stringify(res));\n        return false;\n      }\n      );\n\n  }\n\n\n  /**selezionare vettura vaadin grid */\n\n  //selectPersona: Vettura;\n  onSelectedItemsChanged(event: any) {\n\n    let selectedIndex: number = event.target.selection.selected()[0];\n    if (selectedIndex !== undefined) {\n      //this.onSelect(this.heroes[selectedIndex]);\n      this.model = this.data[selectedIndex];\n      //aprire il paper-dialog\n      this.dialogEditVettura.nativeElement.open(event);\n    }\n  }\n\n  /*referenza del componente paper-dialog */\n\n  @ViewChild('openvettura') dialogEditVettura: ElementRef;\n\n  nuovaVettura(item: boolean) {\n    this.model = new Vettura();\n    this.dialogEditVettura.nativeElement.open(event);\n  }\n\n  ngOnDestroy() {\n    this.subscriptionNuovo.unsubscribe();\n  }\n\n}"]}