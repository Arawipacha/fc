{"version":3,"sources":["app/scheda/detalle_scheda_vettura/detalle.scheda.vettura.component.ts"],"names":[],"mappings":"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","file":"detalle.scheda.vettura.component.js","sourcesContent":["import { Router, ActivatedRoute, Params } from '@angular/router';\nimport { HomeEventosService, ControlMenu } from './../../home/home.event.services';\nimport { SchedaVetturaApi, SchedaVettura, DetalleSchedaVettura } from './../scheda.vettura.api';\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { Dipendente, SpesaSchedaDetalle } from '../scheda.vettura.api';\nimport { Observable } from 'rxjs/Observable';\nimport { ajaxGetJSON } from '../../../../../public/libs/rxjs/src/observable/dom/AjaxObservable';\n\n@Component({\n    moduleId: module.id,\n    selector: 'detalle_scheda_vettura',\n    templateUrl: 'detalle.scheda.vettura.component.html',\n    providers: [SchedaVetturaApi]\n})\nexport class DetalleSchedaVetturaComponent implements OnInit {\n    model = new DetalleSchedaVettura(); //elemento selezionato della scheda\n    modelTemp = new DetalleSchedaVettura();\n    private sub: any;\n    private id: string;\n\n    title: string = \"Elenco Detalle Schede Vetture\";\n    constructor(private api: SchedaVetturaApi, private route: ActivatedRoute, private router: Router, private eventHomeService: HomeEventosService) { }\n\n    subscriptionNew: any;\n    subscriptionEdit: any;\n\n\n    /**\n     * INIZIA LA  carga delle vaiabile e cattura del id  scheda vettura e tramite\n     * questa ottiene  una lista di detalle scheda vettura\n     */\n    ngOnInit() {\n        this.model = new DetalleSchedaVettura();\n        this.sub = this.route.params.subscribe((params: Params) => {\n            this.id = params['id'];\n            console.log(this.id);\n            if (this.id != undefined) {\n                if (this.id != 'nuevo') {\n                    this.getDataDetalleSchedaVettura(this.id);\n                    /**get data dipendente */\n                    this.getDataDipendenteComboBox();\n                }\n            } else {\n                // se la variabile e undefined, ritorna a scheda vettura\n                let link = ['/office/scheda-vettura'];\n                this.router.navigate(link);\n\n            }\n\n        });\n\n\n        this.subscriptionNew = this.eventHomeService.getNewChangeEmitter()\n            .subscribe(item => this.nuovoDetalleSchedaVettura(item));\n\n        this.subscriptionEdit = this.eventHomeService.getEditChangeEmitter()\n            .subscribe(item => this.editarDetalleSchedaVettura());\n\n        //enviar titulo\n        this.eventHomeService.emitTitleChangeEvent(this.title);\n\n        //activar controlles\n        let controlMenu: ControlMenu = new ControlMenu();\n        controlMenu.add = true;\n        controlMenu.edit = true;\n        this.eventHomeService.emitControlMenuChangeEvent(controlMenu);\n\n        //traer datos dal Observer\n        // this.getData();\n    }\n\n    /**\n     * obtenemos la informazione della web services del \n     * detalle scheda vettura id\n     */\n    data: SchedaVettura = new SchedaVettura();\n    //data: SchedaVettura[] = [];\n    getDataDetalleSchedaVettura(id: string) {\n        this.api.setUrl('api/schedavettura/detalle');\n        this.api.getData(id).subscribe(res => {\n            if (res.status == 200) {\n                if (res.json()['data'] != null)\n                    this.data = res.json()['data'];\n            }\n            if (res.status == 404) {\n                //this.data = [];\n            }\n        });\n    }\n\n onGridReady(grid: any) {\n    grid.columns[0].renderer = cell =>\n        cell.element.textContent = cell.row.index;\n        \n    //grid.items = (params: any, callback: Function) =>\n    //grid.items=(params: any, callback: Function)=> this._getJSON().subscribe(json => callback(json.json()['data'], json.json()['data'].size)) ;\ngrid.cellClassGenerator = function(cell) {\n  if (cell.index == 2) {\n     return \"activity-\" + cell.data.toLowerCase();\n   }\n };\n  }\n\n    _getJSON(): Observable<any> {\n        \n        this.api.setUrl('api/schedavettura/detalle');\n        return this.api.getData(this.id);\n       \n/*\n    return this.http.get(url)\n      .map((res: Response) => res.json())*/\n  }\n\n\n\n    /**model data dipendente  */\n    dataDipendente: Dipendente[] = [];\n\n    getDataDipendenteComboBox() {\n        this.api.setUrl('api/dipendentefullname');\n        this.api.getData().subscribe(res => {\n            if (res.status == 200) {\n                if (res.json()['data'] != null)\n                    this.dataDipendente = res.json()['data'];\n            }\n            if (res.status == 404) {\n                //this.data = [];\n            }\n        });\n    }\n\n\n\n    /**selezionare detalle scheda vettura vaadin grid */\n\n    //selectPersona: detalle scheda vettura;\n    onSelectedItemsChanged(event: any) {\n\n        let selectedIndex: number = event.target.selection.selected()[0];\n        if (selectedIndex !== undefined) {\n            //this.onSelect(this.heroes[selectedIndex]);\n            let mo=this.data.detalle_scheda_vettura[selectedIndex];\n            this.modelTemp=this.data.detalle_scheda_vettura[selectedIndex];\n            this.model =mo;\n            this.asignForceDataForm();\n            //aprire il paper-dialog\n            //this.dialogEditVettura.nativeElement.open(event);\n            console.log(this.model);\n            //this.dialogEditDetalleSchedaVettura.nativeElement.open(event);\n        }\n    }\n\n    @ViewChild('check') check: any;\n    checkBox: any;\n    change(event: any) {\n        //$event.target.checked\n        this.checkBox = event.target;\n        this.model.lavorabile = event.target.checked;\n    }\n\n\n\n    //esto es un bug del checkBox, asi que se lefuerza a coger  su valor\n    asignForceDataForm() {\n        if (this.model.lavorabile)\n            this.check.nativeElement.checked = true;\n        else\n            this.check.nativeElement.checked = false;\n\n        console.log(this.check.nativeElement.checked);\n    }\n\n    /*referenza del componente paper-dialog */\n\n    @ViewChild('opendetalleschedavettura') dialogEditDetalleSchedaVettura: ElementRef;\n\n\n\n    nuovoDetalleSchedaVettura(item) {\n        this.model = new DetalleSchedaVettura();\n        this.model.scheda_vettura_id = this.id;\n        this.model.nro_gg = this.data.detalle_scheda_vettura.length + 1;\n\n        this.dialogEditDetalleSchedaVettura.nativeElement.open(event);\n    }\n\n\n    editarDetalleSchedaVettura() {\n        this.dialogEditDetalleSchedaVettura.nativeElement.open(event);\n        /*if (this.model) {\n            let link = ['/office/scheda-vettura/detalle', this.model.id];\n            this.router.navigate(link);\n        }*/\n    }\n\n    /**select combobox dipendente */\n\n    selectedItemDipendente(event: any) {\n        let selectedIndex: number = event.target.selection.selected()[0];\n       \n        if (selectedIndex !== undefined) {\n            //this.onSelect(this.heroes[selectedIndex]);\n            \n            this.model.dipendente_id = this.dataDipendente[selectedIndex].id;\n            this.model.fullname_dipendente = this.dataDipendente[selectedIndex].full_name;\n            //aprire il paper-dialog\n            //this.dialogEditSchedaVettura.nativeElement.open(event);\n        }\n    }\n\n    /**salvare detalle scheda vettura  */\n    message: string;\n    salvaDetalleVettura() {\n        if (this.validarDetalleSchedaVettura()) {\n\n            this.message = 'Tutti i campi sevono essere selezionati';\n            return;\n        }\n        console.log(this.validarDetalleSchedaVettura());\n\n        //schedavettura/{id}/detalle\n        this.api.setUrl(\"/api/schedavettura/detalleschedavettura\");\n        this.api.register(this.model)\n            .subscribe(\n            res => {\n                //codigo 202 es de registro\n                if (res.status == 200) {\n                    //console.log(res.json()['data']);\n\n                    this.model = res.json()['data'];\n                    this.message = res.json()['message'];\n\n                    let da = this.data.detalle_scheda_vettura.find(item => item.id === this.model.id);\n                    if (da == undefined)\n                        this.data.detalle_scheda_vettura.push(this.model);\n                    //console.log(da);\n                    this.dialogEditDetalleSchedaVettura.nativeElement.close(event);\n\n                }\n\n                else\n                    console.log(JSON.stringify(res));\n                return false;\n            }\n            );\n    }\n//[items]=\"data.detalle_scheda_vettura\"\n    closeDialog(event:any){\n        if(event.detail.confirmed==false)\n            this.model=this.modelTemp;\n        console.log(event);\n    }\n\n\n    validarDetalleSchedaVettura(): boolean {\n        let sw = false;\n        return sw;\n    }\n\n/**cambia valor del km total */\n\n\n    changeValueKmTotale(event: any){\n        if(event==undefined)\n            event=0;\n       // this.model.km_ini=event;\n        this.model.km_totale=this.model.km_fine-this.model.km_ini;\n        //console.log(this.model.km_fine-this.model.km_ini);\n        console.log(event);\n    }\n\nchangeValueKmFinale(event: any){\n        if(event==undefined)\n            event=0;\n        this.model.km_totale=event;\n        let total:number=this.model.km_ini + event;\n        this.model.km_fine=total;\n        //console.log(this.model.km_fine-this.model.km_ini);\n        console.log(event);\n        \n    }\n\n\n    ngOnDestroy() {\n        this.subscriptionNew.unsubscribe();\n        this.subscriptionEdit.unsubscribe();\n    }\n\n}"]}