{"version":3,"sources":["app/scheda/scheda.vettura.list.component.ts"],"names":[],"mappings":"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","file":"scheda.vettura.list.component.js","sourcesContent":["import { Router } from '@angular/router';\r\nimport { HomeEventosService, ControlMenu } from './../home/home.event.services';\r\nimport { SchedaVettura, SchedaVetturaApi, PercorsoVettura, DipendenteVettura, TargaVettura } from './scheda.vettura.api';\r\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'scheda-vettura',\r\n    templateUrl: 'scheda.vettura.list.component.html',\r\n    providers: [SchedaVetturaApi]\r\n})\r\nexport class SchedaVetturaListComponent implements OnInit {\r\nmodel= new SchedaVettura();\r\n\r\nmessage:string; // messagio del inserimento\r\n\r\n  value = 'C';\r\n  selectedItemMese: Object = {};\r\n  dataMese = [\r\n    { nome_mese: 'GENNAIO', id: '1' },\r\n    { nome_mese: 'FEBBRAIO', id: '2' },\r\n    { nome_mese: 'MARZO', id: '3' },\r\n    { nome_mese: 'APRILE', id: '4' },\r\n    { nome_mese: 'MAGGIO', id: '5' },\r\n    { nome_mese: 'JIUGNO', id: '6' },\r\n    { nome_mese: 'LUGLIO', id: '7' },\r\n    { nome_mese: 'AGOSTO', id: '8' },\r\n    { nome_mese: 'SETTEMBRE', id: '9' },\r\n    { nome_mese: 'OTTOBRE', id: '10' },\r\n    { nome_mese: 'NOVEMBRE', id: '11' },\r\n    { nome_mese: 'DICEMBRE', id: '12' }\r\n\r\n  ];\r\n\r\nselectedItemPercorso: Object = {};\r\ndataPercorso:PercorsoVettura[]=[];//[{nome: 'torino-firenze', id: '12'}];\r\n\r\nselectedItemDipendente: Object = {};\r\ndataDipendente:DipendenteVettura[]=[];\r\n\r\nselectedItemTarga:Object = {};\r\ndataTarga:TargaVettura[]=[];\r\n\r\n  constructor(private router: Router,private api: SchedaVetturaApi, private eventHomeService: HomeEventosService) { }\r\n\r\n  subscription: any; //emit evento nuovo\r\n  subscriptionEditar: any; //emit evento editar\r\n  title: string = \"Elenco Scheda Vetture\";\r\n\r\n  ngOnInit() {\r\n     this.subscription=this.eventHomeService.getNewChangeEmitter()\r\n      .subscribe(item => this.nuovaSchedaVettura(item));\r\n\r\nthis.subscriptionEditar=this.eventHomeService.getEditChangeEmitter()\r\n      .subscribe(item => this.editarDetalleSchedaVettura());\r\n\r\n    //enviar titulo\r\n    this.eventHomeService.emitTitleChangeEvent(this.title);\r\n    //activar controlles\r\n    let controlMenu:ControlMenu= new ControlMenu();\r\n    controlMenu.add=true;\r\n    controlMenu.edit=true;\r\n    \r\n    this.eventHomeService.emitControlMenuChangeEvent(controlMenu);\r\n\r\n    //traer datos dal Observer\r\n    this.getData();\r\n    this.getDataComboBoxs();\r\n  }\r\n\r\n getDataComboBoxs() {\r\n    this.api.setUrl('api/schedavetturadatacombobox');\r\n    this.api.getData().subscribe(res => {\r\n      if(res.status==200){\r\n      //this.documentos = res.json()['data'];\r\n\r\n        this.dataTarga= res.json()['data']['vettura'];\r\n        this.dataPercorso=res.json()['data']['percorso'];\r\n        this.dataDipendente=res.json()['data']['dipendente'];\r\n        console.log(this.dataPercorso);\r\n       }\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * obtenemos la informazione della web services\r\n   */\r\n\r\n  data: SchedaVettura[];\r\n\r\n  getData() {\r\n\r\n    this.api.setUrl('api/schedavettura');\r\n    this.api.getData()\r\n      .subscribe(res => {\r\n        // durante la suscripciÃ³n se obtienen y transforman los datos\r\n        this.data = res.json()['data'];\r\n        console.log(this.data);\r\n      }\r\n\r\n      );\r\n\r\n  }\r\n\r\n\r\n/**\r\n * funcion  dove si inviano le  informazione introdotte\r\n */\r\n\r\nsalvare(){\r\n  //console.log(JSON.stringify(this.model));\r\n    /*if(this.model.id==0)\r\n        this.api.setUrl(\"/api/vettura\");\r\n    else\r\n        this.api.setUrl(\"/api/documento/update\");\r\n        */\r\n        //console.log(this.model);\r\n        if(this.validarSchedaVettura()){\r\n\r\n        this.message='Tutti i campi sevono essere selezionati';\r\n          return;\r\n          }\r\n        console.log(this.validarSchedaVettura());\r\n        \r\n\r\n\r\n    this.api.setUrl(\"/api/schedavettura\");\r\n    this.api.register(this.model)\r\n      .subscribe(\r\n      res => {\r\n        //codigo 202 es de registro\r\n        if (res.status ==200) {\r\n          //console.log(res.json()['data']);\r\n          \r\n          this.model = res.json()['data'];\r\n          this.message=res.json()['message'];\r\n\r\n          let da=this.data.find(item=>item.id===this.model.id);\r\n          if(da==undefined)\r\n            this.data.push(this.model);\r\n          //console.log(da);\r\n          this.dialogEditSchedaVettura.nativeElement.close(event);\r\n          \r\n        }\r\n        \r\n        else\r\n          console.log(JSON.stringify(res));\r\n        return false;\r\n      }\r\n      );\r\n\r\n}\r\n\r\n\r\nvalidarSchedaVettura():boolean{\r\nlet sw=true;\r\nif(this.model.percorso_id==undefined || this.model.percorso_id==\"\")\r\n  sw=false;\r\nif(this.model.vettura_id==undefined || this.model.vettura_id==\"\")\r\n  sw=false;\r\nif (this.model.dipendente_id==undefined || this.model.dipendente_id==\"\")\r\n  sw=false;\r\nif(this.model.mese==undefined || this.model.mese==\"\")\r\n  sw=false;\r\nreturn sw;\r\n}\r\n\r\n/**selezionare vettura vaadin grid */\r\n\r\n   //selectPersona: Vettura;\r\n    onSelectedItemsChanged(event: any) {\r\n        let selectedIndex: number = event.target.selection.selected()[0];\r\n        if (selectedIndex !== undefined) {\r\n            //this.onSelect(this.heroes[selectedIndex]);\r\n            this.model = this.data[selectedIndex];\r\n            //aprire il paper-dialog\r\n            //this.dialogEditSchedaVettura.nativeElement.open(event);\r\n        }\r\n    }\r\n\r\n  /*referenza del componente paper-dialog */\r\n\r\n  @ViewChild('openschedavettura') dialogEditSchedaVettura: ElementRef;\r\n\r\n  nuovaSchedaVettura(item: boolean) {\r\n    this.model= new SchedaVettura();\r\n    this.dialogEditSchedaVettura.nativeElement.open(event);\r\n  }\r\n    editarDetalleSchedaVettura() {\r\n        if(this.model){\r\n            let link = ['/office/scheda-vettura/detalle', this.model.id];\r\n            this.router.navigate(link);\r\n        }\r\n    }\r\n\r\n   ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscriptionEditar.unsubscribe();\r\n  }\r\n\r\n}"]}