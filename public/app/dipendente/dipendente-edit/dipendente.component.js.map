{"version":3,"sources":["app/dipendente/dipendente-edit/dipendente.component.ts"],"names":[],"mappings":"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","file":"dipendente.component.js","sourcesContent":["import { HomeEventosService, ControlMenu } from './../../home/home.event.services';\r\nimport { ActivatedRoute, Router, Params } from '@angular/router';\r\nimport { DipendenteApi, Dipendente } from './../dipendente.api';\r\nimport { Component, OnInit, Provider } from '@angular/core';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'dipendente',\r\n    templateUrl: 'dipendente.component.html',\r\n    providers:[DipendenteApi]\r\n})\r\nexport class DipendenteComponent implements OnInit {\r\n    constructor(private api: DipendenteApi, private route: ActivatedRoute, private router: Router,private eventHomeService: HomeEventosService) { }\r\n\r\n    model: Dipendente ;\r\n    private sub: any;\r\n    private id: string;\r\n\r\n    subscriptionIndietro: any;\r\n    subscriptionSalvare: any;\r\n    title: string = \"Elenco Dipendente\";\r\n    ngOnInit() {\r\n        this.model= new Dipendente();\r\n        this.sub = this.route.params.subscribe((params: Params) => {\r\n            this.id = params['id'];\r\n            console.log(this.id);\r\n            if (this.id != undefined)\r\n                if (this.id != 'nuevo')\r\n                    this.getDipendente(this.id);\r\n            \r\n        });\r\n\r\n\r\n\r\n        this.subscriptionIndietro=this.eventHomeService.getBackChangeEmitter()\r\n      .subscribe(item => this.indietroDipendente(item));\r\n\r\n      this.subscriptionSalvare=this.eventHomeService.getSaveChangeEmitter()\r\n      .subscribe(item => this.salvareDipendente());\r\n      \r\n    //enviar titulo\r\n    this.eventHomeService.emitTitleChangeEvent(this.title);\r\n\r\n   //activar controlles\r\n    let controlMenu:ControlMenu= new ControlMenu();\r\n    controlMenu.save=true;\r\n    controlMenu.back=true;\r\n    this.eventHomeService.emitControlMenuChangeEvent(controlMenu);\r\n\r\n\r\n    }\r\n\r\n    getDipendente(idpersona: string) {\r\n        this.api.setUrl('api/dipendente');\r\n        this.api.getData(idpersona).subscribe(res => {\r\n            if (res.status == 200) {\r\n                this.model = res.json()['data'];\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nmessagio:string;\r\nsalvareDipendente(){\r\n     console.log(JSON.stringify(this.model));\r\n    /*if(this.model.id==0)\r\n        this.api.setUrl(\"/api/vettura\");\r\n    else\r\n        this.api.setUrl(\"/api/documento/update\");\r\n        */\r\n\r\n    this.api.setUrl(\"/api/dipendente\");\r\n    this.api.register(this.model)\r\n      .subscribe(\r\n      res => {\r\n        //codigo 202 es de registro\r\n        if (res.status == 200) {\r\n          //console.log(res.json()['data']);\r\n\r\n          this.model = res.json()['data'];\r\n        this.messagio=res.json()['message'];;\r\n          \r\n        }\r\n        \r\n        else\r\n          console.log(JSON.stringify(res));\r\n        return false;\r\n      }\r\n      );\r\n}\r\n    indietroDipendente(item){\r\n        let link = ['/office/dipendente'];\r\n        this.router.navigate(link);\r\n    }\r\n\r\n    ngOnDestroy(){\r\n\r\n    this.subscriptionIndietro.unsubscribe();\r\n    this.subscriptionSalvare.unsubscribe();\r\n}\r\n}"]}