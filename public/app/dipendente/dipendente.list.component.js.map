{"version":3,"sources":["app/dipendente/dipendente.list.component.ts"],"names":[],"mappings":"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","file":"dipendente.list.component.js","sourcesContent":["import { Router } from '@angular/router';\r\nimport { Dipendente,DipendenteApi } from './dipendente.api';\r\nimport { HomeEventosService, ControlMenu } from './../home/home.event.services';\r\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'dipendente-list',\r\n    templateUrl: 'dipendente.list.component.html',\r\n    providers:[DipendenteApi]\r\n})\r\nexport class DipendenteListComponent implements OnInit {\r\nmodel= new Dipendente();\r\n\r\n\r\n\r\n  constructor(private router: Router, private api: DipendenteApi, private eventHomeService: HomeEventosService) { }\r\n\r\n  subscriptionNuovo: any;\r\n  subscriptionEditar: any;\r\n  title: string = \"Elenco Dipendente\";\r\n\r\n  ngOnInit() {\r\n    this.subscriptionNuovo=this.eventHomeService.getNewChangeEmitter()\r\n      .subscribe(item => this.nuovoDipendente(item));\r\n\r\n      this.subscriptionEditar=this.eventHomeService.getEditChangeEmitter()\r\n      .subscribe(item => this.editarDipendente());\r\n      \r\n    //enviar titulo\r\n    this.eventHomeService.emitTitleChangeEvent(this.title);\r\n\r\n   //activar controlles\r\n    let controlMenu:ControlMenu= new ControlMenu();\r\n    controlMenu.add=true;\r\n    controlMenu.edit=true;\r\n    this.eventHomeService.emitControlMenuChangeEvent(controlMenu);\r\n\r\n    //traer datos dal Observer\r\n    this.getData();\r\n  }\r\n\r\n  /**\r\n   * obtenemos la informazione della web services\r\n   */\r\n\r\n  data: Dipendente[];\r\n\r\n  getData() {\r\n\r\n    this.api.setUrl('api/dipendente');\r\n    this.api.getData()\r\n      .subscribe(res => {\r\n        // durante la suscripciÃ³n se obtienen y transforman los datos\r\n        this.data = res.json()['data'];\r\n        console.log(this.data);\r\n      }\r\n\r\n      );\r\n\r\n  }\r\n\r\n\r\n/**\r\n * funcion  dove si inviano le  informazione introdotte\r\n */\r\n\r\nsalvare(){\r\n  console.log(JSON.stringify(this.model));\r\n    /*if(this.model.id==0)\r\n        this.api.setUrl(\"/api/vettura\");\r\n    else\r\n        this.api.setUrl(\"/api/documento/update\");\r\n        */\r\n\r\n    this.api.setUrl(\"/api/dipendente\");\r\n    this.api.register(this.model)\r\n      .subscribe(\r\n      res => {\r\n        //codigo 202 es de registro\r\n        if (res.status ==200) {\r\n          //console.log(res.json()['data']);\r\n\r\n          this.model = res.json()['data'];\r\n          let sw=true;\r\n          let ind=this.data.forEach(element => {\r\n            \r\n            if(element.id==this.model.id){\r\n              sw= false;\r\n              //console.log(ind);\r\n            }\r\n          }\r\n          );\r\n\r\n          if(sw)\r\n          this.data.push(this.model);\r\n          console.log(sw);\r\n \r\n          \r\n        }\r\n        \r\n        else\r\n          console.log(JSON.stringify(res));\r\n        return false;\r\n      }\r\n      );\r\n\r\n}\r\n\r\n\r\n/**selezionare dipendente vaadin grid */\r\n\r\n   //selectPersona: Dipendente;\r\n    onSelectedItemsChanged(event: any) {\r\n\r\n        let selectedIndex: number = event.target.selection.selected()[0];\r\n        if (selectedIndex !== undefined) {\r\n            //this.onSelect(this.heroes[selectedIndex]);\r\n            this.model = this.data[selectedIndex];\r\n            //aprire il paper-dialog\r\n            //this.dialogEditVettura.nativeElement.open(event);\r\n            console.log(this.model);\r\n        }\r\n    }\r\n\r\n  /*referenza del componente paper-dialog */\r\n\r\n\r\n//  @ViewChild('openvettura') dialogEditVettura: ElementRef;\r\n\r\n    nuovoDipendente(item: boolean) {\r\n    //this.model= new Dipendente();\r\n   // this.dialogEditVettura.nativeElement.open(event);\r\n    let link = ['/office/dipendente/edit', 'nuevo'];\r\n        this.router.navigate(link);\r\n  }\r\n\r\n    editarDipendente() {\r\n        if(this.model){\r\n            let link = ['/office/dipendente/edit', this.model.id];\r\n            this.router.navigate(link);\r\n        }\r\n    }\r\n\r\nngOnDestroy(){\r\n\r\n  this.subscriptionNuovo.unsubscribe();\r\n  this.subscriptionEditar.unsubscribe();\r\n}\r\n\r\n}"]}