{"version":3,"sources":["app/percorso/percorso.list.component.ts"],"names":[],"mappings":"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","file":"percorso.list.component.js","sourcesContent":["import { HomeEventosService, ControlMenu } from './../home/home.event.services';\r\nimport { Router } from '@angular/router';\r\nimport {PercorsoApi, Percorso } from './percorso.api';\r\nimport { Component, OnInit, OnDestroy } from '@angular/core';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'percorso-list',\r\n    templateUrl: 'percorso.list.component.html',\r\n    providers: [PercorsoApi]\r\n})\r\nexport class PercorsoListComponent implements OnInit {\r\n   model= new Percorso();\r\n\r\n\r\n\r\n  constructor(private router: Router, private api: PercorsoApi, private eventHomeService: HomeEventosService) { }\r\n\r\n  subscriptionNew: any;\r\n  subscriptionEdit: any;\r\n  title: string = \"Elenco Percorsi\";\r\n\r\n  ngOnInit() {\r\n    this.subscriptionNew=this.eventHomeService.getNewChangeEmitter()\r\n      .subscribe(item => this.nuovoPercorso(item));\r\n\r\n      this.subscriptionEdit=this.eventHomeService.getEditChangeEmitter()\r\n      .subscribe(item => this.editarPercorso());\r\n      \r\n    //enviar titulo\r\n    this.eventHomeService.emitTitleChangeEvent(this.title);\r\n\r\n   //activar controlles\r\n    let controlMenu:ControlMenu= new ControlMenu();\r\n    controlMenu.add=true;\r\n    controlMenu.edit=true;\r\n    this.eventHomeService.emitControlMenuChangeEvent(controlMenu);\r\n\r\n    //traer datos dal Observer\r\n    this.getData();\r\n  }\r\n\r\n  /**\r\n   * obtenemos la informazione della web services\r\n   */\r\n\r\n  data: Percorso[];\r\n\r\n  getData() {\r\n\r\n    this.api.setUrl('api/percorso');\r\n    this.api.getData()\r\n      .subscribe(res => {\r\n        // durante la suscripciÃ³n se obtienen y transforman los datos\r\n        this.data = res.json()['data'];\r\n        console.log(this.data);\r\n      }\r\n\r\n      );\r\n\r\n  }\r\n\r\n\r\n/**\r\n * funcion  dove si inviano le  informazione introdotte\r\n */\r\n\r\nsalvare(){\r\n  console.log(JSON.stringify(this.model));\r\n    /*if(this.model.id==0)\r\n        this.api.setUrl(\"/api/vettura\");\r\n    else\r\n        this.api.setUrl(\"/api/documento/update\");\r\n        */\r\n\r\n    this.api.setUrl(\"/api/percorso\");\r\n    this.api.register(this.model)\r\n      .subscribe(\r\n      res => {\r\n        //codigo 202 es de registro\r\n        if (res.status ==200) {\r\n          //console.log(res.json()['data']);\r\n\r\n          this.model = res.json()['data'];\r\n          let sw=true;\r\n          let ind=this.data.forEach(element => {\r\n            \r\n            if(element.id==this.model.id){\r\n              sw= false;\r\n              //console.log(ind);\r\n            }\r\n          }\r\n          );\r\n\r\n          if(sw)\r\n          this.data.push(this.model);\r\n          console.log(sw);\r\n \r\n          \r\n        }\r\n        \r\n        else\r\n          console.log(JSON.stringify(res));\r\n        return false;\r\n      }\r\n      );\r\n\r\n}\r\n\r\n\r\n/**selezionare percorso veicolo vaadin grid */\r\n\r\n   //selectPersona: percorso;\r\n    onSelectedItemsChanged(event: any) {\r\n\r\n        let selectedIndex: number = event.target.selection.selected()[0];\r\n        if (selectedIndex !== undefined) {\r\n            //this.onSelect(this.heroes[selectedIndex]);\r\n            this.model = this.data[selectedIndex];\r\n            //aprire il paper-dialog\r\n            //this.dialogEditVettura.nativeElement.open(event);\r\n            console.log(this.model);\r\n        }\r\n    }\r\n\r\n  /*referenza del componente paper-dialog */\r\n\r\n\r\n//  @ViewChild('openvettura') dialogEditVettura: ElementRef;\r\n\r\n    nuovoPercorso(item: boolean) {\r\n    //this.model= new Dipendente();\r\n   // this.dialogEditVettura.nativeElement.open(event);\r\n    let link = ['/office/percorso/edit', 'nuevo'];\r\n        this.router.navigate(link);\r\n  }\r\n\r\n    editarPercorso() {\r\n        if(this.model){\r\n            let link = ['/office/percorso/edit', this.model.id];\r\n            this.router.navigate(link);\r\n        }\r\n    }\r\nngOnDestroy(){\r\nthis.subscriptionNew.unsubscribe();\r\nthis.subscriptionEdit.unsubscribe();\r\n//this.eventHomeService.getNewChangeEmitter().un\r\n      \r\n\r\n      //console.log(this.eventHomeService);\r\n}\r\n}"]}