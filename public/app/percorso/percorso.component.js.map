{"version":3,"sources":["app/percorso/percorso.component.ts"],"names":[],"mappings":"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","file":"percorso.component.js","sourcesContent":["import { PercorsoApi,Percorso } from './percorso.api';\r\nimport { HomeEventosService } from './../home/home.event.services';\r\nimport { Component, OnInit, ViewChild, ElementRef, Provider } from '@angular/core';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'percorso',\r\n    templateUrl: 'percorso.component.html',\r\n    providers: [PercorsoApi]\r\n})\r\nexport class PercorsoComponent implements OnInit {\r\n   model= new Percorso();\r\n\r\n\r\n  constructor(private api: PercorsoApi, private eventHomeService: HomeEventosService) { }\r\n\r\n  subscription: any;\r\n  title: string = \"Elenco Percorsi\";\r\n\r\n  ngOnInit() {\r\n    this.subscription = this.eventHomeService.getNewChangeEmitter()\r\n      .subscribe(item => this.nuovoPercorso(item));\r\n    //enviar titulo\r\n    this.eventHomeService.emitTitleChangeEvent(this.title);\r\n\r\n    //traer datos dal Observer\r\n    this.getData();\r\n  }\r\n\r\n  /**\r\n   * obtenemos la informazione della web services\r\n   */\r\n\r\n  data: Percorso[];\r\n\r\n  getData() {\r\n\r\n    this.api.setUrl('/api/percorso');\r\n    this.api.getData()\r\n      .subscribe(res => {\r\n        // durante la suscripciÃ³n se obtienen y transforman los datos\r\n        this.data = res.json()['data'];\r\n        console.log(this.data);\r\n      }\r\n\r\n      );\r\n\r\n  }\r\n\r\n\r\n/**\r\n * funcion  dove si inviano le  informazione introdotte\r\n */\r\n\r\nsalvare(){\r\n  console.log(JSON.stringify(this.model));\r\n    /*if(this.model.id==0)\r\n        this.api.setUrl(\"/api/vettura\");\r\n    else\r\n        this.api.setUrl(\"/api/documento/update\");\r\n        */\r\n\r\n    this.api.setUrl(\"/api/percorso\");\r\n    this.api.register(this.model)\r\n      .subscribe(\r\n      res => { \r\n        //codigo 202 es de registro\r\n        if (res.status ==200 ) {\r\n          //console.log(res.json()['data']);\r\n\r\n          this.model = res.json()['data'];\r\n          let sw=true;\r\n          let ind=this.data.forEach(element => {\r\n            if(element.id==this.model.id){\r\n              sw= false;\r\n            }\r\n          }\r\n          );\r\n          if(sw)\r\n          this.data.push(this.model);\r\n          console.log(sw);\r\n          this.dialogEdit.nativeElement.close(event);\r\n\r\n        }\r\n        \r\n        else\r\n          console.log(JSON.stringify(res));\r\n        return false;\r\n      }\r\n      );\r\n\r\n}\r\n\r\n\r\n/**selezionare vettura vaadin grid */\r\n\r\n   //selectPersona: Vettura;\r\n    onSelectedItemsChanged(event: any) {\r\n\r\n        let selectedIndex: number = event.target.selection.selected()[0];\r\n        if (selectedIndex !== undefined) {\r\n            //this.onSelect(this.heroes[selectedIndex]);\r\n            this.model = this.data[selectedIndex];\r\n            //aprire il paper-dialog\r\n            this.dialogEdit.nativeElement.open(event);\r\n        }\r\n    }\r\n\r\n  /*referenza del componente paper-dialog */\r\n\r\n  @ViewChild('opendialog') dialogEdit: ElementRef;\r\n\r\n  nuovoPercorso(item: boolean) {\r\n    this.model= new Percorso();\r\n    this.dialogEdit.nativeElement.open(event);\r\n  }\r\n\r\nngOnDestroy(){\r\n  this.subscription.unsubscribe();\r\n}\r\n\r\n}"]}